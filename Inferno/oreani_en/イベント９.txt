	#Player[FREE]
	#ScriptVersion[2]

	script_enemy_main
	{
let step=0;
gra=1;
let char=9;

@Initialize()
	{
	SetLife(1);ForbidShot(true);ForbidBomb(true);
	LoadGraphic(imgBoss);//ドット絵の読み込み
	SetTexture(imgBoss);//読み込んだ画像を指定する
	CreateEventFromScript("Event");
	}

@MainLoop(){
	if(OnEvent==true){step=GetEventStep();
		if(step == 0){
		}
		if(step == 1){
		SetMovePosition02(cenX,minY+130,30);
		}
		if(step == 2){
		yield;
		}
		if(step == 3){
		VanishEnemy;
		}
	}
}

@DrawLoop{
Graphic;
}

@Finalize(){
	DeleteGraphic(imgBoss);//画像をメモリから解放
	ForbidShot(false);ForbidBomb(false);
}

	#include_function ".\include.txt"
}
	

	script_event Event
	{

	let imgSHEN=GetCurrentScriptDirectory~".\img\shencut.png";
	let imgRYU=GetCurrentScriptDirectory~".\img\ryucut.png";
	let imgLILIA=GetCurrentScriptDirectory~".\img\liliacut.png";
		@Initialize
		{
		LoadGraphic(imgSHEN);//自機カット読み込み
		LoadGraphic(imgRYU);//自機カット読み込み
		LoadGraphic(imgLILIA);//自機カット読み込み
		}
		
		@MainLoop
		{

			SetStep(0);

			if(GetPlayerScriptName=="sh2.txt"){//シェン会話

			SetChar(LEFT,imgSHEN);
			graphicLEFT(1);
			MoveChar(LEFT,FRONT);


			TextOutC(60,"\c[YELLOW]今日はやけにお出迎えが激しい気がするな\n
					何かあるのかな？");//文字描画

			graphicLEFT(6);

			TextOutC(60,"\c[RED]とうとうここまで来てしまったんだね");//文字描画

			SetStep(1);	

			SetChar(RIGHT,imgLILIA);//右側キャラクタの画像を設定
			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(1);
			TextOut("\c[RED]優秀すぎて憎たらしいほど");//文字描画

			SetStep(2);

			graphicLEFT(3);
			MoveChar(LEFT,FRONT);
			graphicRIGHT(1);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]そんな、照れるぞ");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]別に褒めてないよ");//文字描画

			graphicLEFT(1);
			SetNameFromText(RIGHT,TEXT_RED,"リリア","魔王の恐るべき妹");
			TextOut("\c[RED]私はリリア\n
					あなたに制裁を加えるために来た悪魔だよ");//文字描画

			graphicLEFT(5);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]おれ何かしたかな\n
					心当たりが多すぎて");//文字描画

			DeleteName(RIGHT);

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]今日は何しにここへ？");//文字描画

			graphicLEFT(1);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]あー、ライナスが心臓くれるって言うから\n
					遊びに来ただけだぞ？");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(2);
			graphicLEFT(5);
			TextOut("\c[RED]それだよ、それ！！\n
					どうしてお兄様と遊ぶのがあなたなの？");//文字描画

			graphicRIGHT(3);
			TextOut("\c[RED]お兄様の隣はワタシノバショナノニ…\n
					ドウシテ…ドウシテ…ドウシテ…");//文字描画

			graphicLEFT(1);
			graphicRIGHT(1);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]お兄様ってことは妹悪魔？\n
					あいつに妹がいたなんて知らなかったなー");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(1);
			graphicLEFT(1);
			TextOut("\c[RED]妹がいることを教えていない…\n
					お兄様にとって隠したい存在…");//文字描画

			graphicRIGHT(3);
			graphicLEFT(1);
			TextOut("\c[RED]隠したい存在…大切なもの…\n
					つまりわたしはお兄様の宝物…");//文字描画
			graphicLEFT(4);
			TextOut("\c[RED]キョアアアアアアアアア！！\n
					お兄様のトレジャーヒャッホー！！");//文字描画


			graphicLEFT(4);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]は？");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]お兄様ったら、そんなにわたしのことを…\n
					今すぐ結婚しなきゃ…書類に…指輪に…");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]あのー、おれもう行っていい？\n
					早くしないと心臓が腐っちゃうんだけど");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(1);
			graphicLEFT(1);
			TextOut("\c[RED]ああ、心臓で思い出した\n
					そういえば報酬がまだだったね");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]ほうしゅう？");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(1);
			TextOut("\c[RED]お兄様を倒してくれたご褒美だよ\n
					あのビラ、わたしが作ったの");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			graphicLEFT(3);
			TextOut("\c[YELLOW]なんだと？\n
					そういうことなら早く心臓をよこせ！！");//文字描画

			DeleteMusic(GetCurrentScriptDirectory~"\bgm\9-1.wav");
			PlayMusic(GetCurrentScriptDirectory~"\bgm\9-2.wav");

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(2);
			graphicLEFT(6);
			TextOutC(40,"\c[RED]ご褒美は心臓ではありません\n
					残念ながらあなたには消えてもらう");//文字描画

			graphicRIGHT(3);
			TextOut("\c[RED]お兄様を奪った泥棒猫は\n
					最高級の弾幕地獄で断罪してあげる！！");//文字描画

			}

			if(GetPlayerScriptName=="ryu.txt"){//リュー会話

			SetChar(LEFT,imgRYU);
			graphicLEFT(5);
			MoveChar(LEFT,FRONT);


			TextOutC(60,"\c[BLUE]今日の魔王城は一段と不穏だな\n
					何か…嫌な予感がする");//文字描画

			graphicLEFT(6);

			TextOutC(60,"\c[RED]とうとうここまで来てしまったんだね");//文字描画

			SetStep(1);	

			SetChar(RIGHT,imgLILIA);//右側キャラクタの画像を設定
			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(1);
			TextOut("\c[RED]優秀すぎて憎たらしいほど");//文字描画

			SetStep(2);

			graphicLEFT(4);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]じょ、女子！？");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(2);
			TextOut("\c[RED]そのリアクションは失礼じゃない？");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]あ、えっと　ごめんなさい");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(1);
			graphicLEFT(6);
			SetNameFromText(RIGHT,TEXT_RED,"リリア","魔王の恐るべき妹");
			TextOut("\c[RED]私はリリア\n
					あなたに制裁を加えるために来た悪魔だよ");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]え？　おれ…何かした？");//文字描画

			DeleteName(RIGHT);

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(2);
			TextOut("\c[RED]ええ！！\n
					わたしの大切なお兄様を誑かしたでしょ！");//文字描画


			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			graphicLEFT(5);
			TextOut("\c[BLUE]お、お兄様？知らないなあ\n
					おれ、一応男には興味ないし");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(2);
			TextOut("\c[RED]とぼけないでよ！！\n
					今日も魔王様と遊びに来たんでしょ？");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			graphicLEFT(1);
			TextOut("\c[BLUE]まあ、そうだけど\n
					っていうかあいつの妹だったか");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicLEFT(5);
			graphicRIGHT(2);
			TextOut("\c[RED]ほら！！\n
					お兄様にいやらしいことする気でしょ！！");//文字描画

			graphicRIGHT(3);
			TextOut("\c[RED]最近目立ち始めたお腹の肉をつまんだり、\n
					その類のことをするつもりなんでしょ！！");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]そんなことしねーよ…");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicLEFT(5);
			graphicRIGHT(1);
			TextOut("\c[RED]わたしだってお兄様と仲良くしたいのに…\n
					昔はあんなにかわいがってくれたのに");//文字描画

			TextOut("\c[RED]最近は魔王になって忙しくなったし、\n
					しょうがないと思ってた");//文字描画

			graphicRIGHT(2);
			TextOut("\c[RED]でも！お兄様はわたしを放っておいて\n
					わたしの差し向けた神様と遊ぶ…");//文字描画

			graphicRIGHT(3);
			TextOut("\c[RED]どうして…どうして…\n
					ドウシテドウシテドウシテドウシテ");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			graphicLEFT(5);
			TextOut("\c[BLUE]そういうのがいけないんじゃ…\n
					っていうか、差し向けた神様というのは");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicLEFT(7);
			graphicRIGHT(2);
			TextOut("\c[RED]あなたのことだよ\n
					この泥棒ヘビ");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]ど、泥棒ヘビ！？");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicLEFT(5);
			graphicRIGHT(1);
			TextOut("\c[RED]わたしの手駒でありながら抜け駆けして\n
					お兄様とイチャイチャする…");//文字描画

			DeleteMusic(GetCurrentScriptDirectory~"\bgm\9-1.wav");
			PlayMusic(GetCurrentScriptDirectory~"\bgm\9-2.wav");

			graphicRIGHT(2);
			TextOutC(40,"\c[RED]許しがたき罪でしょ？");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			graphicLEFT(5);
			TextOut("\c[BLUE]お前の手駒になった覚えはないし、\n
					イチャイチャもしてないんだが…");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicLEFT(7);
			graphicRIGHT(3);
			TextOut("\c[RED]キエエエエエエエエエエエ！！\n
					罪を認めろ！！！");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]ひっ");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(1);
			TextOut("\c[RED]お兄様の隣はわたしの居場所…\n
					それを脅かすものは排除する…");//文字描画

			graphicRIGHT(3);
			TextOut("\c[RED]ああ、お兄様！！\n
					リリアはあなたの為に戦います！！");//文字描画

			}

			SetStep(3);
			End();//最後にEnd()は必須
		}
		
		@Finalize
		{
		DeleteGraphic(imgSHEN);//自機カット読み込み
		DeleteGraphic(imgRYU);//自機カット読み込み		
		DeleteGraphic(imgLILIA);//自機カット読み込み
		}

function graphicLEFT(num){
	if(num==1){SetGraphicRect(LEFT,0,0,249,319);}//真顔
	else if(num==2){SetGraphicRect(LEFT,250,0,499,319);}//おこ
	else if(num==3){SetGraphicRect(LEFT,500,0,749,319);}//嬉しい
	else if(num==4){SetGraphicRect(LEFT,750,0,999,319);}//引き
	else if(num==5){SetGraphicRect(LEFT,0,320,249,640);}//びっくり
	else if(num==6){SetGraphicRect(LEFT,250,320,499,640);}//気づく
	else if(num==7){SetGraphicRect(LEFT,500,320,749,640);}//キラ
	else if(num==8){SetGraphicRect(LEFT,750,320,999,640);}//悪い顔
}
function graphicRIGHT(num){
	if(num==1){SetGraphicRect(RIGHT,0,0,249,319);}//照れ
	else if(num==2){SetGraphicRect(RIGHT,250,0,499,319);}//おこ
	else if(num==3){SetGraphicRect(RIGHT,500,0,749,319);}//嬉しい
	else if(num==4){SetGraphicRect(RIGHT,750,0,999,319);}//ボロ絵
}
	}