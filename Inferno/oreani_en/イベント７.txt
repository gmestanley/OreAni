	#Player[FREE]
	#ScriptVersion[2]

	script_enemy_main
	{
let step=0;
gra=1;
let char=7;

@Initialize()
	{
	SetLife(1);ForbidShot(true);ForbidBomb(true);
	LoadGraphic(imgBoss);//ドット絵の読み込み
	SetTexture(imgBoss);//読み込んだ画像を指定する
	CreateEventFromScript("Event");
	}

@MainLoop(){
	if(OnEvent==true){step=GetEventStep();
		if(step == 0){
		}
		if(step == 1){
		SetMovePosition02(cenX,minY+130,30);
		}
		if(step == 2){
		yield;
		}
		if(step == 3){
		VanishEnemy;
		}
	}
}

@DrawLoop{
Graphic;
}

@Finalize(){
	DeleteGraphic(imgBoss);//画像をメモリから解放
	ForbidShot(false);ForbidBomb(false);
}

	#include_function ".\include.txt"
}
	

	script_event Event
	{


	let imgSHEN=GetCurrentScriptDirectory~".\img\shencut2.png";
	let imgRYU=GetCurrentScriptDirectory~".\img\ryucut.png";
		@Initialize
		{
		LoadGraphic(imgSHEN);//自機カット読み込み
		LoadGraphic(imgRYU);//自機カット読み込み
		}
				
		@MainLoop
		{

			SetStep(0);

			SetStep(1);
			Wait(60);

			SetChar(LEFT,imgRYU);
			graphicLEFT(1);
			MoveChar(LEFT,BACK);
			SetChar(RIGHT,imgSHEN);//右側キャラクタの画像を設定
			graphicRIGHT(7);
			MoveChar(RIGHT,FRONT);		

			SetNameFromText(RIGHT,TEXT_YELLOW,"シェン","荒ぶる太陽神");
			TextOutC(60,"\c[YELLOW]我が秘密基地へようこそ\n
					歓迎するよ、リュー君");//文字描画

			SetStep(2);

			graphicLEFT(1);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);	
			TextOut("\c[BLUE]最近見ないと思ったらこんなところに\n
					悪魔の住処を乗っ取ってどうするんだ？");//文字描画


			graphicLEFT(1);
			MoveChar(LEFT,BACK);
			graphicRIGHT(3);
			MoveChar(RIGHT,FRONT);		
			TextOut("\c[YELLOW]知りたいか！！教えてやろう！！\n
					それはだな！！！");//文字描画

			graphicLEFT(5);
			graphicRIGHT(4);
			TextOut("\c[YELLOW]・・・・・・\n
					えーっと、それは・・・");//文字描画

			graphicLEFT(1);
			MoveChar(LEFT,FRONT);
			graphicRIGHT(4);
			MoveChar(RIGHT,BACK);	
			TextOut("\c[BLUE]やっぱり何も考えてないんだな");//文字描画

			graphicLEFT(1);
			MoveChar(LEFT,BACK);
			graphicRIGHT(5);
			MoveChar(RIGHT,FRONT);	
			TextOut("\c[YELLOW]違うよ！！\n
					今頑張って考えてるからちょっと待って！！");//文字描画


			graphicLEFT(3);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);	
			TextOut("\c[BLUE]まったく…\n
					ほら、馬鹿言ってないで帰るぞ");//文字描画

			graphicLEFT(1);
			MoveChar(LEFT,BACK);
			graphicRIGHT(5);
			MoveChar(RIGHT,FRONT);	
			TextOut("\c[YELLOW]えー！えー！それはやだー！\n
					せっかくこんな洞窟を手に入れたのに！！");//文字描画

			graphicRIGHT(3);
			TextOut("\c[YELLOW]…そうだ！！\n
					リューもおれと一緒に引きこもろう！！");//文字描画

			TextOut("\c[YELLOW]引きこもるのは楽しいぞ！！\n
					自分を省みるのにちょうどいいからなー！");//文字描画

			graphicLEFT(8);
			MoveChar(LEFT,FRONT);
			graphicRIGHT(5);
			MoveChar(RIGHT,BACK);	
			TextOut("\c[BLUE]おれにそんな趣味はない\n
					今日は何が何でも連れて帰るぞ");//文字描画

			DeleteMusic(GetCurrentScriptDirectory~"\bgm\7-1.wav");
			PlayMusic(GetCurrentScriptDirectory~"\bgm\7-2.wav");

			graphicLEFT(6);
			MoveChar(LEFT,BACK);
			graphicRIGHT(2);
			MoveChar(RIGHT,FRONT);	
			TextOutC(40,"\c[YELLOW]ぬおおお、絶対に出たくない！！\n
					出ないぞおおおお！！");//文字描画

			graphicRIGHT(3);
			MoveChar(RIGHT,FRONT);	
			TextOut("\c[YELLOW]おれを外に連れて行きたいんなら\n
					力ずくでやってみろ！！！");//文字描画

			SetStep(3);
			End();//最後にEnd()は必須
		}
		

		@Finalize
		{
		DeleteGraphic(imgSHEN);//自機カット読み込み
		DeleteGraphic(imgRYU);//自機カット読み込み
		}


function graphicLEFT(num){
	if(num==1){SetGraphicRect(LEFT,0,0,249,319);}//真顔
	else if(num==2){SetGraphicRect(LEFT,250,0,499,319);}//おこ
	else if(num==3){SetGraphicRect(LEFT,500,0,749,319);}//嬉しい
	else if(num==4){SetGraphicRect(LEFT,750,0,999,319);}//引き
	else if(num==5){SetGraphicRect(LEFT,0,320,249,640);}//びっくり
	else if(num==6){SetGraphicRect(LEFT,250,320,499,640);}//気づく
	else if(num==7){SetGraphicRect(LEFT,500,320,749,640);}//キラ
	else if(num==8){SetGraphicRect(LEFT,750,320,999,640);}//悪い顔
}
function graphicRIGHT(num){
	if(num==1){SetGraphicRect(RIGHT,0,0,249,319);}//照れ
	else if(num==2){SetGraphicRect(RIGHT,250,0,499,319);}//おこ
	else if(num==3){SetGraphicRect(RIGHT,500,0,749,319);}//嬉しい
	else if(num==4){SetGraphicRect(RIGHT,750,0,999,319);}//真顔
	else if(num==5){SetGraphicRect(RIGHT,0,320,249,640);}//悪い顔
	else if(num==6){SetGraphicRect(RIGHT,250,320,499,640);}//びっくり
	else if(num==7){SetGraphicRect(RIGHT,500,320,749,640);}//気づく
	else if(num==8){SetGraphicRect(RIGHT,750,320,999,640);}//焦る
}
	}