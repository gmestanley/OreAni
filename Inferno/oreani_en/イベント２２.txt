	#Player[FREE]
	#ScriptVersion[2]

	script_enemy_main
	{
let step=0;
gra=1;
let char=2;
let imgSHEN=GetCurrentScriptDirectory~".\img\shencut.png";

@Initialize()
	{
	SetLife(1);ForbidShot(true);ForbidBomb(true);
	LoadGraphic(imgBoss);//ドット絵の読み込み
	LoadGraphic(imgSHEN);
	SetTexture(imgBoss);//読み込んだ画像を指定する
	CreateEventFromScript("Event");
	}

@MainLoop(){
	if(OnEvent==true){step=GetEventStep();
		if(step == 0){
		SetX(minX-50);
		SetY(minY+60);
		}
		if(step == 1){
		yield;
		}
		if(step == 2){
		SetMovePosition02(cenX,minY+130,30);
		}
		if(step == 3){
		VanishEnemy;
		}
	}
}

@DrawLoop{
Graphic;
}

@Finalize(){
	DeleteGraphic(imgBoss);//画像をメモリから解放
	ForbidShot(false);ForbidBomb(false);
}

	#include_function ".\include.txt"
}
	

	script_event Event
	{

	let imgSHEN=GetCurrentScriptDirectory~".\img\shencut.png";
	let imgRYU=GetCurrentScriptDirectory~".\img\ryucut.png";
	let imgTARU=GetCurrentScriptDirectory~".\img\tarucut.png";
		@Initialize
		{
		LoadGraphic(imgSHEN);//自機カット読み込み
		LoadGraphic(imgRYU);//自機カット読み込み
		LoadGraphic(imgTARU);//自機カット読み込み
		}
		
		@MainLoop
		{

			SetStep(0);

			if(GetPlayerScriptName=="sh2.txt"){//シェン会話
			SetChar(LEFT,imgSHEN);//右側キャラクタの画像を設定
			graphicLEFT(1);
			MoveChar(LEFT,FRONT);
			TextOut("\c[YELLOW]地獄って自然が豊かなんだな\n
					全然獄くないじゃん？");//文字描画

			graphicLEFT(8);
			TextOut("\c[YELLOW]この分だと地獄の制圧も\n
					トントン拍子だろうなー");//文字描画

			SetStep(1);
			Wait(60);		

			graphicLEFT(1);
			TextOutC(60,"\c[RED]You won't get away with this!!");//文字描画

			SetStep(2);

			MoveChar(LEFT,BACK);
			SetChar(RIGHT,imgTARU);//右側キャラクタの画像を設定
			graphicRIGHT(1);
			MoveChar(RIGHT,FRONT);

			SetNameFromText(RIGHT,TEXT_RED,"Tarta","Little Giant who Guards the Gate");
			TextOut("\c[RED]You insolent Hell-rampaging god!!\n
					You'll see that I, Tarta, will stop you!");//文字描画

			graphicLEFT(3);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]The wee demon from earlier?\n
					A'right, I guess I'll be your opponent…");//文字描画

			graphicLEFT(5);
			MoveChar(LEFT,BACK);
			graphicRIGHT(3);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]Huh?! I ain't tiny!!\n
					お前とそんなに変わんねーし!!");//文字描画

			TextOut("\c[RED]Ya only see me tiny!!\n
					It's sort of an optical illusion!!");//文字描画

			graphicLEFT(4);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]Was that sensitive…\n
					I'm somewhat sorry…");//文字描画

			MoveChar(LEFT,BACK);
			graphicRIGHT(3);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]Hah…uuhhh、\n
					anyhow, you won't lay one finger on Hell!!");//文字描画	

			graphicRIGHT(2);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]The Giants' iron wall Defense,\n
					will teach you a lesson, bastard!!");//文字描画

			graphicLEFT(5);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]Hweh? Giant?\n
					Ah…");//文字描画

			MoveChar(LEFT,BACK);
			graphicRIGHT(3);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]I ain't tiny!!\n
					オイラ巨人だからちっちゃくねーし！！");//文字描画

			TextOut("\c[RED]神様を倒したこともある巨人族が\n
					ちっちゃいわけがねーし！！");//文字描画

			TextOut("\c[RED]仮に本当にちっちゃかったとしても\n
					これから育つから関係ねーし！！！");//文字描画	

			graphicLEFT(2);
			graphicLEFT(4);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]N, no,\n
					I didn't say anything yet…");//文字描画		

			DeleteMusic(GetCurrentScriptDirectory~"\bgm\2-21.wav");
			PlayMusic(GetCurrentScriptDirectory~"\bgm\2-22.wav");

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]Shaddap!!\n
					You'll know when you SEE IT!!");//文字描

			MoveChar(LEFT,BACK);
			TextOut("\c[RED]I'll destroy all of you who\n
			physically look down on me!!");//文字描

			}

			if(GetPlayerScriptName=="ryu.txt"){//リュー会話
			SetChar(LEFT,imgRYU);//右側キャラクタの画像を設定
			graphicLEFTR(2);
			MoveChar(LEFT,FRONT);
			TextOut("\c[BLUE]森の散策は気持ちがいいね\n
					しかし、地獄のくせにずいぶん自然豊かだな");//文字描画

			SetStep(1);
			Wait(60);		

			graphicLEFTR(1);
			MoveChar(LEFT,BACK);
			TextOutC(60,"\c[RED]まだまだ地獄の入り口だからな\n
					瘴気も薄くて過ごしやすいんだ");//文字描画

			SetStep(2);

			SetChar(RIGHT,imgTARU);//右側キャラクタの画像を設定
			graphicRIGHT(1);
			MoveChar(RIGHT,FRONT);


			SetNameFromText(RIGHT,TEXT_RED,"タルタ","門を守る小さな巨人");
			TextOut("\c[RED]で、神様がこんなところに何の用だ？");//文字描画		

			graphicLEFTR(2);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]ちょっと地獄をほろ…\n
					もとい潰しに");//文字描画		

			MoveChar(LEFT,BACK);
			graphicRIGHT(2);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]ほほーう\n
					オイラが門番の巨人と知っての暴挙か？");//文字描画	


			graphicLEFTR(1);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]巨人？そんなのどこに…");//文字描画		

			MoveChar(LEFT,BACK);
			graphicRIGHT(2);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]ここ！！ここ！！");//文字描画	

			graphicLEFTR(5);
			MoveChar(LEFT,FRONT);
			graphicRIGHT(2);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]え？巨人ってお前…\n
					あっ…");//文字描画

			DeleteMusic(GetCurrentScriptDirectory~"\bgm\2-21.wav");
			PlayMusic(GetCurrentScriptDirectory~"\bgm\2-22.wav");

			MoveChar(LEFT,BACK);
			graphicRIGHT(3);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]なんだその目は！！バカにしてんだろ！！\n
					チビのブタ野郎とか思ってんだろ！！");//文字描画	

			graphicLEFTR(7);
			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]ぶ、ブタ野郎とは\n
					思ってないけど");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]じゃあチビだとは思ってんだな！！\n
					くそう、お前なんか踏みつぶしてやるー！！");//文字描画	

			}

			SetStep(3);
			End();//最後にEnd()は必須
		}

function graphicLEFT(num){
	if(num==1){SetGraphicRect(LEFT,0,0,249,319);}//真顔
	else if(num==2){SetGraphicRect(LEFT,250,0,499,319);}//おこ
	else if(num==3){SetGraphicRect(LEFT,500,0,749,319);}//嬉しい
	else if(num==4){SetGraphicRect(LEFT,750,0,999,319);}//引き
	else if(num==5){SetGraphicRect(LEFT,0,320,249,640);}//びっくり
	else if(num==6){SetGraphicRect(LEFT,250,320,499,640);}//気づく
	else if(num==7){SetGraphicRect(LEFT,500,320,749,640);}//キラ
	else if(num==8){SetGraphicRect(LEFT,750,320,999,640);}//悪い顔
}
		
function graphicLEFTR(num){
	if(num==1){SetGraphicRect(LEFT,0,0,249,319);}//真顔
	else if(num==2){SetGraphicRect(LEFT,250,0,499,319);}//嬉しい
	else if(num==3){SetGraphicRect(LEFT,500,0,749,319);}//おこ
	else if(num==4){SetGraphicRect(LEFT,750,0,999,319);}//照れ
	else if(num==5){SetGraphicRect(LEFT,0,320,249,640);}//引き
	else if(num==6){SetGraphicRect(LEFT,250,320,499,640);}//気づく
	else if(num==7){SetGraphicRect(LEFT,500,320,749,640);}//ビックリ
	else if(num==8){SetGraphicRect(LEFT,750,320,999,640);}//悪い顔
}

function graphicRIGHT(num){
	if(num==1){SetGraphicRect(RIGHT,0,0,250,320);}//真顔
	else if(num==2){SetGraphicRect(RIGHT,250,0,500,320);}//ドヤ
	else if(num==3){SetGraphicRect(RIGHT,500,0,750,320);}//おこ
	else if(num==4){SetGraphicRect(RIGHT,750,0,1000,320);}//ボロ絵
}
			
	
		@Finalize
		{
		DeleteGraphic(imgSHEN);
		DeleteGraphic(imgRYU);
		DeleteGraphic(imgTARU);
		}
	}