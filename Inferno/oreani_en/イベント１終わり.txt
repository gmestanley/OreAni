script_enemy_main
	{
let count = 0;
let step=0;
gra=1;
let char=1;

@Initialize()
	{
	SetLife(1);ForbidShot(true);ForbidBomb(true);
	SetGraphicRect(0,0,64,64);
	}

@MainLoop()
	{
	if(OnEvent()==true){break;}
	if(GetSpeed!=0){break;}
	if(count == 1)
		{}
	if(count == 2)
		{
		//SetMovePosition02(cx+1,145,80);
          	CreateEventFromScript("Event1end");
		}
	if(count == 3)
		{
		VanishEnemy;
		}
	count++;
	}

@DrawLoop{
Graphic;
}

@Finalize(){
	ForbidShot(false);ForbidBomb(false);
}

#include_function ".\include.txt"
}
	
	script_event Event1end
	{
	let imgSHEN=GetCurrentScriptDirectory~".\img\shencut.png";
	let imgRYU=GetCurrentScriptDirectory~".\img\ryucut.png";
	let imgLOSS=GetCurrentScriptDirectory~".\img\losscut.png";
		
		@Initialize
		{
		LoadGraphic(imgSHEN);//自機カット読み込み
		LoadGraphic(imgRYU);//自機カット読み込み
		LoadGraphic(imgLOSS);//敵カット読み込み
		}
		
		@MainLoop
		{


			if(GetPlayerScriptName=="sh2.txt"){//シェン会話
			SetChar(LEFT,imgSHEN);
			MoveChar(LEFT,BACK);
			graphicLEFT(3);
			SetChar(RIGHT,imgLOSS);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(3);
			TextOut("\c[RED]Uugh…");//文字描画

			MoveChar(LEFT,FRONT);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]Awright awright!\n
					First Demon Extermination compleeeete!!");//文字描画

			MoveChar(LEFT,BACK);
			graphicLEFT(1);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]僕をフルボッコにして\n
					何か得たものはあるのだろうか？");//文字描画

			MoveChar(LEFT,FRONT);
			graphicLEFT(3);
			MoveChar(RIGHT,BACK);
			TextOut("\c[YELLOW]スッキリしたからおれ得だ！");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]No way…\n
					Such a meatheaded god is no goood.");//文字描画

			}


			else if(GetPlayerScriptName=="ryu.txt"){//リュー会話
			SetChar(LEFT,imgRYU);
			MoveChar(LEFT,BACK);
			graphicLEFTR(2);
			SetChar(RIGHT,imgLOSS);
			MoveChar(RIGHT,FRONT);
			graphicRIGHT(3);
			TextOut("\c[RED]ぎゃふーん");//文字描画

			MoveChar(LEFT,FRONT);
			graphicLEFTR(2);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]あー、ヒマが潰れたなー");//文字描画

			MoveChar(LEFT,BACK);
			graphicLEFTR(1);
			MoveChar(RIGHT,FRONT);
			TextOut("\c[RED]ぐぬぬ\n
					やはり神様は強い");//文字描画

			graphicLEFTR(6);
			TextOut("\c[RED]でも魔王退治はやめておけ\n
					きっとロクでもないことになるぞぉ");//文字描画

			MoveChar(LEFT,FRONT);			
			graphicLEFTR(6);
			MoveChar(RIGHT,BACK);
			TextOut("\c[BLUE]なぜそれを\n
					まあスルーするけど");//文字描画

			MoveChar(LEFT,BACK);
			MoveChar(RIGHT,FRONT);
			graphicLEFTR(1);
			TextOut("\c[RED]この裏にはよからぬ陰謀が渦巻いてる\n
					無事に天国へ帰れたらいいな　うん");//文字描画

			}

			End();//最後にEnd()は必須
		}
		
		@Finalize
		{
		DeleteGraphic(imgSHEN);
		DeleteGraphic(imgRYU);
		DeleteGraphic(imgLOSS);
		}

function graphicLEFT(num){
	if(num==1){SetGraphicRect(LEFT,0,0,249,319);}//真顔
	else if(num==2){SetGraphicRect(LEFT,250,0,499,319);}//おこ
	else if(num==3){SetGraphicRect(LEFT,500,0,749,319);}//嬉しい
	else if(num==4){SetGraphicRect(LEFT,750,0,999,319);}//引き
	else if(num==5){SetGraphicRect(LEFT,0,320,249,640);}//びっくり
	else if(num==6){SetGraphicRect(LEFT,250,320,499,640);}//気づく
	else if(num==7){SetGraphicRect(LEFT,500,320,749,640);}//キラ
	else if(num==8){SetGraphicRect(LEFT,750,320,999,640);}//悪い顔
}

		
function graphicLEFTR(num){
	if(num==1){SetGraphicRect(LEFT,0,0,249,319);}//真顔
	else if(num==2){SetGraphicRect(LEFT,250,0,499,319);}//嬉しい
	else if(num==3){SetGraphicRect(LEFT,500,0,749,319);}//おこ
	else if(num==4){SetGraphicRect(LEFT,750,0,999,319);}//照れ
	else if(num==5){SetGraphicRect(LEFT,0,320,249,640);}//引き
	else if(num==6){SetGraphicRect(LEFT,250,320,499,640);}//気づく
	else if(num==7){SetGraphicRect(LEFT,500,320,749,640);}//ビックリ
	else if(num==8){SetGraphicRect(LEFT,750,320,999,640);}//悪い顔
}
function graphicRIGHT(num){
	if(num==1){SetGraphicRect(RIGHT,0,0,250,320);}//真顔
	else if(num==2){SetGraphicRect(RIGHT,250,0,500,320);}//汗
	else if(num==3){SetGraphicRect(RIGHT,500,0,750,320);}//ボロ
}
	}